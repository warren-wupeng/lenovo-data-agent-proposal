<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>联想数据分析 Agent — 产品方案</title>
<style>
  :root {
    --navy: #1a2332;
    --navy-light: #243044;
    --navy-dark: #0f1720;
    --blue: #2563eb;
    --blue-light: #3b82f6;
    --orange: #f97316;
    --orange-light: #fb923c;
    --white: #ffffff;
    --gray-50: #f8fafc;
    --gray-100: #f1f5f9;
    --gray-200: #e2e8f0;
    --gray-300: #cbd5e1;
    --gray-400: #94a3b8;
    --gray-500: #64748b;
    --gray-600: #475569;
    --gray-700: #334155;
    --gray-800: #1e293b;
    --green: #10b981;
    --red: #ef4444;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC", "PingFang SC", "Microsoft YaHei", sans-serif;
    color: var(--gray-800);
    line-height: 1.6;
    background: var(--white);
    -webkit-font-smoothing: antialiased;
  }

  /* ---- LANG TOGGLE ---- */
  .lang-btn {
    padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600;
    cursor: pointer; border: 1px solid rgba(255,255,255,0.2);
    background: rgba(255,255,255,0.08); color: var(--gray-300);
    transition: all 0.2s; letter-spacing: 0.5px;
  }
  .lang-btn:hover { background: rgba(255,255,255,0.15); color: var(--white); }

  /* ---- NAV ---- */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    background: rgba(26,35,50,0.95); backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255,255,255,0.08);
  }
  .nav-inner {
    max-width: 1200px; margin: 0 auto;
    padding: 0 24px; height: 56px;
    display: flex; align-items: center; justify-content: space-between;
  }
  .nav-logo {
    color: var(--white); font-size: 15px; font-weight: 600; letter-spacing: 0.5px;
    display: flex; align-items: center; gap: 10px;
  }
  .nav-logo span { color: var(--orange); }
  .nav-right { display: flex; align-items: center; gap: 24px; }
  .nav-links { display: flex; gap: 28px; }
  .nav-links a {
    color: var(--gray-400); text-decoration: none; font-size: 13px;
    font-weight: 500; transition: color 0.2s;
  }
  .nav-links a:hover { color: var(--white); }

  @media (max-width: 640px) {
    .nav-links { display: none; }
  }

  /* ---- HERO ---- */
  .hero {
    background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 50%, #1e3a5f 100%);
    padding: 140px 24px 100px;
    text-align: center; position: relative; overflow: hidden;
  }
  .hero::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(circle at 30% 40%, rgba(37,99,235,0.12) 0%, transparent 60%),
                radial-gradient(circle at 70% 60%, rgba(249,115,22,0.08) 0%, transparent 50%);
  }
  .hero-content { position: relative; z-index: 1; max-width: 800px; margin: 0 auto; }
  .hero-badge {
    display: inline-block; padding: 6px 16px; border-radius: 20px;
    background: rgba(249,115,22,0.15); border: 1px solid rgba(249,115,22,0.3);
    color: var(--orange-light); font-size: 13px; font-weight: 500;
    margin-bottom: 28px; letter-spacing: 0.5px;
  }
  .hero h1 {
    font-size: clamp(28px, 5vw, 48px); font-weight: 700;
    color: var(--white); line-height: 1.2; margin-bottom: 20px;
    letter-spacing: -0.5px;
  }
  .hero h1 em {
    font-style: normal;
    background: linear-gradient(135deg, var(--orange) 0%, var(--orange-light) 100%);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .hero p {
    font-size: clamp(16px, 2.5vw, 20px); color: var(--gray-400);
    max-width: 600px; margin: 0 auto 36px; line-height: 1.7;
  }
  .hero-stack {
    display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;
  }
  .hero-stack .chip {
    padding: 8px 18px; border-radius: 8px;
    background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
    color: var(--gray-300); font-size: 13px; font-weight: 500;
  }

  /* ---- SECTIONS ---- */
  section { padding: 80px 24px; }
  .container { max-width: 1080px; margin: 0 auto; }
  .section-label {
    display: inline-block; padding: 4px 12px; border-radius: 6px;
    background: rgba(37,99,235,0.08); color: var(--blue);
    font-size: 12px; font-weight: 600; letter-spacing: 1px;
    text-transform: uppercase; margin-bottom: 12px;
  }
  .section-title {
    font-size: clamp(24px, 4vw, 36px); font-weight: 700;
    color: var(--navy); line-height: 1.3; margin-bottom: 16px;
  }
  .section-desc {
    font-size: 16px; color: var(--gray-500); max-width: 640px;
    line-height: 1.7; margin-bottom: 48px;
  }

  /* ---- ROADMAP ---- */
  .roadmap { background: var(--gray-50); }
  .roadmap-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }
  .phase-card {
    background: var(--white); border-radius: 16px; padding: 32px;
    border: 1px solid var(--gray-200); position: relative;
    transition: box-shadow 0.3s, transform 0.3s;
  }
  .phase-card:hover {
    box-shadow: 0 8px 32px rgba(0,0,0,0.08); transform: translateY(-2px);
  }
  .phase-num {
    width: 36px; height: 36px; border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; font-weight: 700; color: var(--white);
    margin-bottom: 20px;
  }
  .phase-card:nth-child(1) .phase-num { background: var(--blue); }
  .phase-card:nth-child(2) .phase-num { background: var(--orange); }
  .phase-card:nth-child(3) .phase-num { background: var(--green); }
  .phase-card h3 { font-size: 18px; font-weight: 700; color: var(--navy); margin-bottom: 6px; }
  .phase-card .phase-sub { font-size: 13px; color: var(--gray-400); margin-bottom: 16px; font-weight: 500; }
  .phase-card p { font-size: 14px; color: var(--gray-600); line-height: 1.7; margin-bottom: 16px; }
  .phase-card ul { list-style: none; }
  .phase-card ul li {
    font-size: 14px; color: var(--gray-600); padding: 6px 0;
    padding-left: 20px; position: relative;
  }
  .phase-card ul li::before {
    content: ''; position: absolute; left: 0; top: 14px;
    width: 6px; height: 6px; border-radius: 50%;
  }
  .phase-card:nth-child(1) ul li::before { background: var(--blue); }
  .phase-card:nth-child(2) ul li::before { background: var(--orange); }
  .phase-card:nth-child(3) ul li::before { background: var(--green); }

  /* ---- SECURITY ---- */
  .security-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px;
  }
  .sec-card {
    padding: 28px; border-radius: 12px;
    border: 1px solid var(--gray-200); background: var(--white);
  }
  .sec-icon {
    width: 44px; height: 44px; border-radius: 10px;
    background: rgba(37,99,235,0.08); display: flex;
    align-items: center; justify-content: center;
    margin-bottom: 16px; font-size: 20px;
  }
  .sec-card h4 { font-size: 15px; font-weight: 600; color: var(--navy); margin-bottom: 8px; }
  .sec-card p { font-size: 13px; color: var(--gray-500); line-height: 1.6; }

  /* ---- METHODOLOGY ---- */
  .method { background: var(--gray-50); }
  .method-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; }
  @media (max-width: 768px) { .method-grid { grid-template-columns: 1fr; } }
  .method-block {
    background: var(--white); border-radius: 16px; padding: 32px;
    border: 1px solid var(--gray-200);
  }
  .method-block h3 { font-size: 18px; font-weight: 700; color: var(--navy); margin-bottom: 16px; }
  .method-block p { font-size: 14px; color: var(--gray-600); line-height: 1.7; margin-bottom: 12px; }
  .method-block .highlight {
    background: rgba(249,115,22,0.06); border-left: 3px solid var(--orange);
    padding: 12px 16px; border-radius: 0 8px 8px 0; margin-top: 16px;
  }
  .method-block .highlight p { color: var(--gray-700); font-weight: 500; margin: 0; }

  /* ---- STATS ---- */
  .stats-row {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px; margin-top: 32px;
  }
  .stat-item { text-align: center; padding: 24px; }
  .stat-num {
    font-size: 32px; font-weight: 800; color: var(--navy);
    line-height: 1; margin-bottom: 4px;
  }
  .stat-num span { color: var(--orange); }
  .stat-label { font-size: 13px; color: var(--gray-500); }

  /* ---- DEMO CHAT ---- */
  .demo { background: var(--navy); color: var(--white); }
  .demo .section-label { background: rgba(249,115,22,0.15); color: var(--orange-light); }
  .demo .section-title { color: var(--white); }
  .demo .section-desc { color: var(--gray-400); }

  .golden-queries {
    display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;
    margin-bottom: 32px; max-width: 680px; margin-left: auto; margin-right: auto;
  }
  .gq-btn {
    padding: 8px 16px; border-radius: 20px; font-size: 13px;
    background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);
    color: var(--gray-300); cursor: default; transition: all 0.2s;
  }
  .gq-btn:hover { background: rgba(255,255,255,0.1); color: var(--white); }
  .gq-btn.active { background: var(--blue); border-color: var(--blue); color: var(--white); }

  .chat-window {
    max-width: 680px; margin: 0 auto;
    background: var(--navy-light); border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.08);
    overflow: hidden;
  }
  .chat-header {
    padding: 16px 24px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
    display: flex; align-items: center; gap: 12px;
  }
  .chat-dot {
    width: 10px; height: 10px; border-radius: 50%; background: var(--green);
  }
  .chat-header span { font-size: 14px; font-weight: 600; color: var(--gray-300); }
  .chat-body { padding: 24px; display: flex; flex-direction: column; gap: 16px; }

  .msg {
    max-width: 85%; padding: 14px 18px; border-radius: 14px;
    font-size: 14px; line-height: 1.6; animation: fadeIn 0.5s ease forwards;
    opacity: 0;
  }
  .msg-user {
    align-self: flex-end;
    background: var(--blue); color: var(--white);
    border-bottom-right-radius: 4px;
  }
  .msg-agent {
    align-self: flex-start;
    background: rgba(255,255,255,0.06); color: var(--gray-200);
    border: 1px solid rgba(255,255,255,0.06);
    border-bottom-left-radius: 4px;
  }
  .msg-label {
    font-size: 11px; font-weight: 600; margin-bottom: 6px;
    text-transform: uppercase; letter-spacing: 0.5px;
  }
  .msg-user .msg-label { color: rgba(255,255,255,0.7); }
  .msg-agent .msg-label { color: var(--orange-light); }

  .sql-toggle {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: 12px; color: var(--gray-400); cursor: pointer;
    margin-top: 10px; padding: 4px 0; user-select: none;
  }
  .sql-toggle:hover { color: var(--gray-300); }
  .sql-toggle svg { width: 14px; height: 14px; }

  .msg-sql {
    background: rgba(0,0,0,0.3); border-radius: 8px; padding: 12px 16px;
    font-family: "SF Mono", "Cascadia Code", "Consolas", monospace;
    font-size: 12px; color: var(--gray-300); margin-top: 8px;
    border: 1px solid rgba(255,255,255,0.05); overflow-x: auto;
    position: relative;
  }
  .msg-sql .kw { color: var(--blue-light); }
  .msg-sql .fn { color: var(--orange-light); }
  .msg-sql .cm { color: var(--gray-500); font-style: italic; }
  .sql-copy {
    position: absolute; top: 8px; right: 8px;
    background: none; border: none; color: var(--gray-500);
    cursor: pointer; padding: 2px; transition: color 0.2s;
  }
  .sql-copy:hover { color: var(--gray-300); }
  .sql-copy svg { width: 14px; height: 14px; }

  .confidence {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 4px 12px; border-radius: 6px; font-size: 12px;
    font-weight: 600; margin-top: 10px;
  }
  .confidence.high { background: rgba(16,185,129,0.15); color: var(--green); }

  .msg-result {
    margin-top: 12px; border-radius: 8px; overflow: hidden;
    border: 1px solid rgba(255,255,255,0.08);
  }
  .msg-result table {
    width: 100%; font-size: 13px; border-collapse: collapse;
  }
  .msg-result th {
    background: rgba(255,255,255,0.05); text-align: left;
    padding: 8px 14px; color: var(--gray-400); font-weight: 600;
    font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;
  }
  .msg-result td {
    padding: 10px 14px; border-top: 1px solid rgba(255,255,255,0.04);
    color: var(--gray-300);
  }
  .msg-result tr:hover td { background: rgba(255,255,255,0.02); }

  /* ---- BAR CHART ---- */
  .chart-container { margin-top: 12px; padding: 16px; background: rgba(0,0,0,0.2); border-radius: 8px; border: 1px solid rgba(255,255,255,0.06); }
  .chart-title { font-size: 12px; color: var(--gray-400); margin-bottom: 12px; text-align: center; }
  .chart-bars { display: flex; align-items: flex-end; gap: 16px; height: 140px; justify-content: center; padding: 0 12px; }
  .chart-bar-group { display: flex; flex-direction: column; align-items: center; flex: 1; max-width: 80px; }
  .chart-bar {
    width: 100%; border-radius: 4px 4px 0 0; transition: height 0.8s ease;
    min-height: 4px;
  }
  .chart-bar.b1 { background: linear-gradient(180deg, var(--blue-light), var(--blue)); }
  .chart-bar.b2 { background: linear-gradient(180deg, var(--orange-light), var(--orange)); }
  .chart-bar.b3 { background: linear-gradient(180deg, #34d399, var(--green)); }
  .chart-bar.b4 { background: linear-gradient(180deg, var(--gray-400), var(--gray-500)); }
  .chart-bar-label { font-size: 11px; color: var(--gray-400); margin-top: 6px; text-align: center; }
  .chart-bar-val { font-size: 11px; color: var(--gray-300); margin-bottom: 4px; font-weight: 600; }

  /* ---- NUMBER VIZ ---- */
  .number-viz { text-align: center; padding: 20px; margin-top: 12px; }
  .number-viz .nv-label { font-size: 13px; color: var(--gray-400); margin-bottom: 4px; }
  .number-viz .nv-value { font-size: 36px; font-weight: 800; color: var(--blue-light); }

  /* ---- LIVE LINK ---- */
  .live-link {
    display: flex; align-items: center; justify-content: center;
    gap: 8px; margin-top: 32px; max-width: 680px; margin-left: auto; margin-right: auto;
  }
  .live-link a {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 12px 24px; border-radius: 10px;
    background: linear-gradient(135deg, var(--orange), var(--orange-light));
    color: var(--white); text-decoration: none; font-size: 14px; font-weight: 600;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .live-link a:hover { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(249,115,22,0.3); }

  @keyframes fadeIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
  .msg:nth-child(1) { animation-delay: 0.3s; }
  .msg:nth-child(2) { animation-delay: 0.9s; }
  .msg:nth-child(3) { animation-delay: 1.5s; }
  .msg:nth-child(4) { animation-delay: 2.1s; }
  .msg:nth-child(5) { animation-delay: 2.7s; }

  /* ---- FOOTER ---- */
  footer {
    background: var(--navy-dark); padding: 48px 24px;
    text-align: center; border-top: 1px solid rgba(255,255,255,0.05);
  }
  footer p { color: var(--gray-500); font-size: 14px; margin-bottom: 12px; }
  footer a {
    color: var(--orange-light); text-decoration: none; font-weight: 500;
    transition: color 0.2s;
  }
  footer a:hover { color: var(--orange); }
  footer .footer-note {
    margin-top: 20px; font-size: 12px; color: var(--gray-600);
  }

  /* hide/show lang content */
  [data-lang] { display: none; }
  .lang-zh [data-lang="zh"] { display: inherit; }
  .lang-en [data-lang="en"] { display: inherit; }
  /* block-level lang elements */
  div[data-lang], ul[data-lang], p[data-lang] { display: none; }
  .lang-zh div[data-lang="zh"],
  .lang-zh ul[data-lang="zh"],
  .lang-zh p[data-lang="zh"] { display: block; }
  .lang-en div[data-lang="en"],
  .lang-en ul[data-lang="en"],
  .lang-en p[data-lang="en"] { display: block; }
</style>
</head>
<body class="lang-zh">

<!-- NAV -->
<nav>
  <div class="nav-inner">
    <div class="nav-logo">LENOVO <span data-lang="zh">数据分析 Agent</span><span data-lang="en">Data Analysis Agent</span></div>
    <div class="nav-right">
      <div class="nav-links">
        <a href="#roadmap"><span data-lang="zh">路线图</span><span data-lang="en">Roadmap</span></a>
        <a href="#security"><span data-lang="zh">安全架构</span><span data-lang="en">Security</span></a>
        <a href="#methodology"><span data-lang="zh">技术方法论</span><span data-lang="en">Methodology</span></a>
        <a href="#demo">Demo</a>
      </div>
      <button class="lang-btn" onclick="toggleLang()" id="langBtn">EN</button>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-content">
    <div class="hero-badge">
      <span data-lang="zh">产品方案 &mdash; 数据智能平台</span>
      <span data-lang="en">Product Proposal &mdash; Data Intelligence Platform</span>
    </div>
    <h1 data-lang="zh">让每个业务团队都拥有<br>自己的<em>数据分析师</em></h1>
    <h1 data-lang="en">Let Every Business Team Have Their Own <em>Data Analyst</em></h1>
    <p data-lang="zh">适配联想双环境架构（云上 Azure Databricks EDW + 私有 LUDP 数据湖，沈阳 DC / Reston DC）的智能数据分析 Agent，将自然语言转化为可信赖的业务洞察。</p>
    <p data-lang="en">An intelligent data analysis Agent for Lenovo's hybrid architecture (Azure Databricks EDW + on-prem LUDP Data Lake, Shenyang DC / Reston DC), transforming natural language into trustworthy business insights.</p>
    <div class="hero-stack">
      <div class="chip">Azure Databricks</div>
      <div class="chip">LUDP Spark / Trino / Doris</div>
      <div class="chip">Unity Catalog / LUDP Catalog</div>
      <div class="chip">Dolphin Scheduler</div>
      <div class="chip">Text-to-SQL</div>
      <div class="chip">Multi-Agent</div>
      <div class="chip"><span data-lang="zh">双环境适配</span><span data-lang="en">Hybrid Arch</span></div>
    </div>
  </div>
</section>

<!-- ROADMAP -->
<section class="roadmap" id="roadmap">
  <div class="container">
    <div class="section-label"><span data-lang="zh">路线图</span><span data-lang="en">Roadmap</span></div>
    <h2 class="section-title"><span data-lang="zh">三阶段实施路线</span><span data-lang="en">Three-Phase Implementation</span></h2>
    <p class="section-desc">
      <span data-lang="zh">务实的验证驱动方式：先跑通可用的，从真实用法中学习，有数据支撑时再扩展。</span>
      <span data-lang="en">A pragmatic, validation-driven approach: start with what works, learn from real usage, scale only when the data justifies it.</span>
    </p>
    <div class="roadmap-grid">

      <!-- Phase 1 -->
      <div class="phase-card">
        <div class="phase-num">1</div>
        <h3><span data-lang="zh">双环境 Text-to-SQL 落地</span><span data-lang="en">Hybrid Text-to-SQL Deployment</span></h3>
        <div class="phase-sub"><span data-lang="zh">云上 Genie + 私有环境开源方案并行</span><span data-lang="en">Cloud: Genie | On-Prem: Open-Source Alternative</span></div>
        <p data-lang="zh">云上基于 Databricks Genie 现有能力增强；LUDP 私有环境（沈阳 DC）部署开源 Text-to-SQL 方案，对接 Trino（交互式查询）和 Spark（批量计算），统一语义层跨双环境共享。</p>
        <p data-lang="en">Cloud: enhance Databricks Genie's existing capability. LUDP on-prem (Shenyang DC): deploy open-source Text-to-SQL connecting to Trino (interactive) and Spark (batch). A shared semantic layer bridges both environments.</p>
        <ul data-lang="zh">
          <li><strong>云上（Databricks）：</strong>Genie 定制化增强，选 1-2 个种子团队试点高频 KPI 场景</li>
          <li><strong>私有（LUDP / 沈阳 DC）：</strong>开源 Text-to-SQL + Trino / Spark SQL 执行引擎，对接 LUDP Catalog 语义层，同样的标注定义复用</li>
          <li>统一语义层——业务术语映射、字段口径、歧义消解，双环境共享一套定义</li>
          <li>50 个高频场景标注 + 置信度评分，低置信度主动提示用户确认</li>
        </ul>
        <ul data-lang="en">
          <li><strong>Cloud (Databricks):</strong> Genie customization for high-frequency KPI scenarios, 1-2 seed teams</li>
          <li><strong>On-prem (LUDP / Shenyang DC):</strong> Open-source Text-to-SQL + Trino / Spark SQL execution, integrating LUDP Catalog semantic layer, reusing same annotation definitions</li>
          <li>Unified semantic layer &mdash; business term mapping, field calibers, ambiguity resolution shared across both environments</li>
          <li>50 high-frequency scenario annotations + confidence scoring with active user confirmation</li>
        </ul>
      </div>

      <!-- Phase 2 -->
      <div class="phase-card">
        <div class="phase-num">2</div>
        <h3><span data-lang="zh">记忆与反馈闭环</span><span data-lang="en">Memory & Feedback Loop</span></h3>
        <div class="phase-sub"><span data-lang="zh">来自 Coding Agent V4：对话压缩技术</span><span data-lang="en">From Coding Agent V4: Conversation Compression</span></div>
        <p data-lang="zh">记忆层与 Supervisor 层做成统一服务，云上和私有环境共用同一套纠错和压缩机制——直接迁移生产级 Coding Agent 的验证技术。</p>
        <p data-lang="en">Memory and Supervisor layers are environment-agnostic services shared across cloud and on-prem &mdash; directly transferring proven techniques from production coding agent.</p>
        <ul data-lang="zh">
          <li>用户纠错记忆——Agent 记录并避免重复错误</li>
          <li>对话压缩引擎：25 条消息阈值自动触发，<strong>token 降低 40-60%</strong>（V4 生产实测）</li>
          <li>查询模式缓存——高频问题获得即时结构化响应</li>
          <li>跨 session 记忆：业务上下文跨对话持久化</li>
        </ul>
        <ul data-lang="en">
          <li>User correction memory &mdash; Agent records and avoids repeating errors</li>
          <li>Conversation compression engine: auto-trigger at 25-message threshold, <strong>40-60% token reduction</strong> (measured in production V4)</li>
          <li>Query pattern caching &mdash; frequently asked questions get instant structured responses</li>
          <li>Cross-session memory: business context persists across conversations</li>
        </ul>
      </div>

      <!-- Phase 3 -->
      <div class="phase-card">
        <div class="phase-num">3</div>
        <h3><span data-lang="zh">需求驱动的多 Agent 架构</span><span data-lang="en">Demand-Driven Multi-Agent</span></h3>
        <div class="phase-sub"><span data-lang="zh">Supervisor + 专业化 Agent</span><span data-lang="en">Supervisor + Specialized Agents</span></div>
        <p data-lang="zh">Supervisor 统一编排，自动路由到云上或私有环境的专业 Agent。双环境不是限制，是天然的解耦边界。</p>
        <p data-lang="en">Supervisor orchestrates across both environments, auto-routing to cloud or on-prem specialized agents. Hybrid is not a constraint &mdash; it's a natural decoupling boundary.</p>
        <ul data-lang="zh">
          <li>Supervisor Agent 统一任务路由——根据数据源自动分发到云上或私有 Agent</li>
          <li>结构化数据 Agent——云上走 Databricks SQL，LUDP 私有环境走 Trino / Spark SQL</li>
          <li>文档 Agent——内部文档、政策法规、非结构化知识检索（环境无关）</li>
          <li>子 Agent 委派：复杂查询成功率 <strong>60% → 85%</strong>（Coding Agent V4 实测）</li>
        </ul>
        <ul data-lang="en">
          <li>Supervisor Agent routes tasks &mdash; auto-dispatches to cloud or on-prem agent by data source</li>
          <li>Structured Data Agent &mdash; Databricks SQL (cloud) / Trino + Spark SQL on LUDP (on-prem)</li>
          <li>Document Agent &mdash; internal docs, policies, unstructured knowledge (environment-agnostic)</li>
          <li>Sub-agent delegation: <strong>60% &rarr; 85% success rate</strong> on complex queries (proven in coding agent V4)</li>
        </ul>
      </div>

    </div>
  </div>
</section>

<!-- SECURITY -->
<section id="security">
  <div class="container">
    <div class="section-label"><span data-lang="zh">安全架构</span><span data-lang="en">Security</span></div>
    <h2 class="section-title"><span data-lang="zh">企业级安全架构</span><span data-lang="en">Enterprise-Grade Security Architecture</span></h2>
    <p class="section-desc">
      <span data-lang="zh">安全不是功能——而是基础。每一次查询都遵循现有的治理策略。</span>
      <span data-lang="en">Security is not a feature &mdash; it is the foundation. Every query respects existing governance.</span>
    </p>
    <div class="security-grid">
      <div class="sec-card">
        <div class="sec-icon">&#x1f512;</div>
        <h4><span data-lang="zh">双环境权限透传</span><span data-lang="en">Hybrid Permission Pass-Through</span></h4>
        <p data-lang="zh">云上继承 Unity Catalog 权限；LUDP 私有环境对接 Horizon / LUDP Catalog（数据目录与权限）+ DQS（数据质量）+ LeDOS（监控审计）+ 企业 LDAP 认证。Agent 不存储凭证，每次查询实时校验——无权限提升。</p>
        <p data-lang="en">Cloud: Unity Catalog permissions. LUDP on-prem: Horizon / LUDP Catalog (data catalog &amp; access control) + DQS (data quality) + LeDOS (monitoring &amp; audit) + enterprise LDAP. Agent holds no credentials &mdash; real-time permission check on every query, no privilege escalation.</p>
      </div>
      <div class="sec-card">
        <div class="sec-icon">&#x1f4cb;</div>
        <h4><span data-lang="zh">完整审计日志</span><span data-lang="en">Full Audit Trail</span></h4>
        <p data-lang="zh">每一次查询、每一条生成的 SQL、每一个结果——都记录了用户身份、时间戳和数据血缘。云上由 Unity Catalog 审计，LUDP 私有环境由 LeDOS 监控审计，完全可追溯。</p>
        <p data-lang="en">Every query, every generated SQL, every result &mdash; logged with user identity, timestamp, and data lineage. Cloud audited via Unity Catalog; LUDP on-prem monitored by LeDOS for complete traceability.</p>
      </div>
      <div class="sec-card">
        <div class="sec-icon">&#x26a0;</div>
        <h4><span data-lang="zh">置信度分级提醒</span><span data-lang="en">Confidence Classification</span></h4>
        <p data-lang="zh">结果带置信度标签。低置信度答案在被视为可信之前，会主动提示用户核实。</p>
        <p data-lang="en">Results are tagged with confidence levels. Low-confidence answers prompt user verification before being treated as trustworthy.</p>
      </div>
      <div class="sec-card">
        <div class="sec-icon">&#x1f6e1;</div>
        <h4><span data-lang="zh">数据边界强制执行</span><span data-lang="en">Data Boundary Enforcement</span></h4>
        <p data-lang="zh">行级和列级安全策略在查询时强制执行。敏感字段自动脱敏或排除。</p>
        <p data-lang="en">Row-level and column-level security policies enforced at query time. Sensitive fields are masked or excluded automatically.</p>
      </div>
    </div>
  </div>
</section>

<!-- METHODOLOGY -->
<section class="method" id="methodology">
  <div class="container">
    <div class="section-label"><span data-lang="zh">技术方法论</span><span data-lang="en">Methodology</span></div>
    <h2 class="section-title"><span data-lang="zh">技术方法论</span><span data-lang="en">Technical Approach</span></h2>
    <p class="section-desc">
      <span data-lang="zh">从构建 5 个版本生产级 Coding Agent 中获得的经验——33 行到 9,266 行——应用于数据分析领域。</span>
      <span data-lang="en">Insights from building 5 versions of a production coding agent &mdash; 33 lines to 9,266 lines &mdash; applied to data analysis.</span>
    </p>

    <div class="method-grid">
      <div class="method-block">
        <h3><span data-lang="zh">上下文分层架构</span><span data-lang="en">Layered Context Architecture</span></h3>
        <p data-lang="zh">数据分析 Agent 最难的问题不是 SQL 生成——而是上下文。"上个月的出货量是多少？"对不同部门意味着完全不同的口径。</p>
        <p data-lang="en">The hardest problem in data analysis agents is not SQL generation &mdash; it is context. "What were last month's shipments?" means different things to different departments.</p>
        <p data-lang="zh">借鉴 OpenAI 内部数据 Agent 实践（服务 3,500 人、600PB 数据），我们分层构建上下文：</p>
        <p data-lang="en">Inspired by OpenAI's internal data agent practice (serving 3,500 people across 600PB of data), we build context in layers:</p>
        <ul style="list-style:none; margin-top:12px;">
          <li style="padding:6px 0; font-size:14px; color:var(--gray-600);">
            <strong><span data-lang="zh">第一层：</span><span data-lang="en">Layer 1:</span></strong>
            <span data-lang="zh">全局 schema——表结构、字段类型、关联关系</span>
            <span data-lang="en">Global schema &mdash; table structures, column types, relationships</span>
          </li>
          <li style="padding:6px 0; font-size:14px; color:var(--gray-600);">
            <strong><span data-lang="zh">第二层：</span><span data-lang="en">Layer 2:</span></strong>
            <span data-lang="zh">领域语义——业务定义、指标口径、部门专属术语</span>
            <span data-lang="en">Domain semantics &mdash; business definitions, metric calibers, department-specific terms</span>
          </li>
          <li style="padding:6px 0; font-size:14px; color:var(--gray-600);">
            <strong><span data-lang="zh">第三层：</span><span data-lang="en">Layer 3:</span></strong>
            <span data-lang="zh">用户上下文——角色、团队、查询历史、纠错历史</span>
            <span data-lang="en">User context &mdash; role, team, query history, correction history</span>
          </li>
        </ul>
        <div class="highlight">
          <p data-lang="zh">核心挑战：在有限的 token 窗口内塞入最有价值的上下文。同样的问题，不同的领域。</p>
          <p data-lang="en">Core challenge: fitting the most valuable context into a limited token window. Same problem, different domain.</p>
        </div>
      </div>

      <div class="method-block">
        <h3><span data-lang="zh">5 个 Agent 版本的实战经验</span><span data-lang="en">Lessons from 5 Agent Versions</span></h3>
        <p data-lang="zh">从零构建 Coding Agent 让我们深刻理解了将 Agent 从原型推向生产的关键所在：</p>
        <p data-lang="en">Building a coding agent from scratch taught us what works and what doesn't when taking agents from prototype to production:</p>
        <ul style="list-style:none; margin-top:12px;">
          <li style="padding:8px 0; font-size:14px; color:var(--gray-600);">
            <strong>V0-V2：</strong>
            <span data-lang="zh">验证了可行性。LLM + 工具调用可行，但复杂任务会失败。</span>
            <span data-lang="en">Proved feasibility. LLM + tool calling works, but fails on complex tasks.</span>
          </li>
          <li style="padding:8px 0; font-size:14px; color:var(--gray-600);">
            <strong>V3：</strong>
            <span data-lang="zh">架构拐点。OOP 工具注册机制实现可扩展性。</span>
            <span data-lang="en">Architecture inflection point. OOP tool registration enables extensibility.</span>
          </li>
          <li style="padding:8px 0; font-size:14px; color:var(--gray-600);">
            <strong>V4：</strong>
            <span data-lang="zh">生产突破。子 Agent 委派（60%→85% 成功率），对话压缩（token 节省 40-60%）。</span>
            <span data-lang="en">Production breakthrough. Sub-agent delegation (60%→85% success), conversation compression (40-60% token savings).</span>
          </li>
          <li style="padding:8px 0; font-size:14px; color:var(--gray-600);">
            <strong>V5：</strong>
            <span data-lang="zh">量化评估。SWE-bench 框架客观衡量策略效果。</span>
            <span data-lang="en">Quantitative evaluation. SWE-bench framework to objectively measure strategy effectiveness.</span>
          </li>
        </ul>
        <div class="highlight">
          <p data-lang="zh">最大的飞跃从来不是更好的模型——而是更好的上下文管理和工具编排。</p>
          <p data-lang="en">The biggest leap was never a better model &mdash; it was better context management and tool orchestration.</p>
        </div>
      </div>
    </div>

    <div class="stats-row">
      <div class="stat-item">
        <div class="stat-num">33 <span>&rarr;</span> 9,266</div>
        <div class="stat-label"><span data-lang="zh">5 个版本的代码行数演进</span><span data-lang="en">Lines of code across 5 versions</span></div>
      </div>
      <div class="stat-item">
        <div class="stat-num">40-60<span>%</span></div>
        <div class="stat-label"><span data-lang="zh">对话压缩后 token 降低</span><span data-lang="en">Token reduction via compression</span></div>
      </div>
      <div class="stat-item">
        <div class="stat-num">60 <span>&rarr;</span> 85<span>%</span></div>
        <div class="stat-label"><span data-lang="zh">子 Agent 带来的成功率提升</span><span data-lang="en">Success rate with sub-agents</span></div>
      </div>
      <div class="stat-item">
        <div class="stat-num">~10,000</div>
        <div class="stat-label"><span data-lang="zh">17 天内上线的专属沙盒数量</span><span data-lang="en">Production sandboxes in 17 days</span></div>
      </div>
    </div>

  </div>
</section>

<!-- DEMO CHAT -->
<section class="demo" id="demo">
  <div class="container">
    <div class="section-label"><span data-lang="zh">交互演示</span><span data-lang="en">Interactive Demo</span></div>
    <h2 class="section-title"><span data-lang="zh">它看起来是这样的</span><span data-lang="en">What It Looks Like</span></h2>
    <p class="section-desc">
      <span data-lang="zh">Golden Queries 一键触发，自然语言 &rarr; SQL &rarr; 可视化图表 &rarr; 置信度评分，全流程透明。</span>
      <span data-lang="en">Golden Queries trigger instantly: natural language &rarr; SQL &rarr; chart visualization &rarr; confidence scoring, fully transparent.</span>
    </p>

    <!-- Golden Queries -->
    <div class="golden-queries">
      <div class="gq-btn active"><span data-lang="zh">上个月各产品线出货量？</span><span data-lang="en">Last month's shipments by product line?</span></div>
      <div class="gq-btn"><span data-lang="zh">Yoga 系列同比增长趋势</span><span data-lang="en">Yoga YoY growth trend</span></div>
      <div class="gq-btn"><span data-lang="zh">各区域营收 Top 5</span><span data-lang="en">Revenue Top 5 by region</span></div>
      <div class="gq-btn"><span data-lang="zh">本季度库存周转率</span><span data-lang="en">Inventory turnover this quarter</span></div>
      <div class="gq-btn"><span data-lang="zh">渠道商出货占比分析</span><span data-lang="en">Channel partner share analysis</span></div>
    </div>

    <div class="chat-window">
      <div class="chat-header">
        <div class="chat-dot"></div>
        <span><span data-lang="zh">联想数据分析 Agent</span><span data-lang="en">Lenovo Data Analysis Agent</span></span>
      </div>
      <div class="chat-body">

        <!-- User -->
        <div class="msg msg-user">
          <div class="msg-label"><span data-lang="zh">用户</span><span data-lang="en">User</span></div>
          <span data-lang="zh">上个月各产品线出货量怎么样？</span>
          <span data-lang="en">How did shipments look last month by product line?</span>
        </div>

        <!-- Agent SQL + chart + result -->
        <div class="msg msg-agent">
          <div class="msg-label">Agent</div>
          <span data-lang="zh">这个查询统计了 2026 年 1 月中国区各产品线的出货量。根据业务定义，出货量 = 工厂出库量（units_shipped），数据来源已确认为中国仓。</span>
          <span data-lang="en">This query retrieves January 2026 shipments by product line for the China region. By business definition, units shipped = factory ship-out, confirmed from China warehouse data.</span>

          <!-- SQL Toggle -->
          <div class="sql-toggle" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display==='none'?'block':'none'">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
            <span data-lang="zh">查看 SQL</span><span data-lang="en">View SQL</span>
          </div>

          <div class="msg-sql" style="display:none">
            <button class="sql-copy" title="复制 SQL"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg></button>
<span class="kw">SELECT</span> product_line,
       <span class="fn">SUM</span>(units_shipped) <span class="kw">AS</span> total_units,
       <span class="fn">ROUND</span>(<span class="fn">SUM</span>(units_shipped) * 100.0 /
             <span class="fn">SUM</span>(<span class="fn">SUM</span>(units_shipped)) <span class="fn">OVER</span>(), 1)
         <span class="kw">AS</span> share_pct
<span class="kw">FROM</span>   shipments.monthly_summary
<span class="kw">WHERE</span>  region = <span style="color:#a5d6a7">'CN'</span>
  <span class="kw">AND</span>  ship_month = <span style="color:#a5d6a7">'2026-01'</span>
<span class="kw">GROUP BY</span> product_line
<span class="kw">ORDER BY</span> total_units <span class="kw">DESC</span>;
<span class="cm">-- Source: Unity Catalog &middot; pc_analytics.shipments.monthly_summary</span>
          </div>

          <!-- Bar Chart -->
          <div class="chart-container">
            <div class="chart-title"><span data-lang="zh">2026 年 1 月中国区 PC 出货量（千台）</span><span data-lang="en">Jan 2026 China PC Shipments (K units)</span></div>
            <div class="chart-bars">
              <div class="chart-bar-group">
                <div class="chart-bar-val">182.4K</div>
                <div class="chart-bar b1" style="height: 100%;"></div>
                <div class="chart-bar-label">ThinkPad</div>
              </div>
              <div class="chart-bar-group">
                <div class="chart-bar-val">156.8K</div>
                <div class="chart-bar b2" style="height: 86%;"></div>
                <div class="chart-bar-label">IdeaPad</div>
              </div>
              <div class="chart-bar-group">
                <div class="chart-bar-val">89.3K</div>
                <div class="chart-bar b3" style="height: 49%;"></div>
                <div class="chart-bar-label">Yoga</div>
              </div>
              <div class="chart-bar-group">
                <div class="chart-bar-val">49.1K</div>
                <div class="chart-bar b4" style="height: 27%;"></div>
                <div class="chart-bar-label"><span data-lang="zh">其他</span><span data-lang="en">Others</span></div>
              </div>
            </div>
          </div>

          <div class="confidence high">
            &#x2714;
            <span data-lang="zh">高置信度 &mdash; 指标定义精确匹配（units_shipped = 工厂出库量，中国仓已确认）</span>
            <span data-lang="en">High Confidence &mdash; Exact match on metric definition (units_shipped = factory ship-out, China warehouse confirmed)</span>
          </div>
        </div>

        <!-- User follow-up -->
        <div class="msg msg-user">
          <div class="msg-label"><span data-lang="zh">用户</span><span data-lang="en">User</span></div>
          <span data-lang="zh">和去年同期比，哪个系列增长最快？</span>
          <span data-lang="en">Compare with last January. Which line grew the most?</span>
        </div>

        <!-- Agent response with table -->
        <div class="msg msg-agent">
          <div class="msg-label">Agent</div>
          <span data-lang="zh">2026 年 1 月 vs 2025 年 1 月，中国区对比：</span>
          <span data-lang="en">Comparing Jan 2026 vs Jan 2025, China region:</span>

          <div class="sql-toggle" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display==='none'?'block':'none'">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
            <span data-lang="zh">查看 SQL</span><span data-lang="en">View SQL</span>
          </div>

          <div class="msg-sql" style="display:none">
            <button class="sql-copy" title="复制 SQL"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg></button>
<span class="kw">SELECT</span> a.product_line,
       a.total_units <span class="kw">AS</span> units_2026,
       b.total_units <span class="kw">AS</span> units_2025,
       <span class="fn">ROUND</span>((a.total_units - b.total_units) * 100.0 / b.total_units, 1) <span class="kw">AS</span> yoy_pct
<span class="kw">FROM</span>   monthly_agg a <span class="kw">JOIN</span> monthly_agg b
  <span class="kw">ON</span> a.product_line = b.product_line
<span class="kw">WHERE</span>  a.ship_month = <span style="color:#a5d6a7">'2026-01'</span> <span class="kw">AND</span> b.ship_month = <span style="color:#a5d6a7">'2025-01'</span>
<span class="kw">ORDER BY</span> yoy_pct <span class="kw">DESC</span>;
          </div>

          <div class="msg-result" style="margin-top: 12px;">
            <table>
              <thead>
                <tr>
                  <th><span data-lang="zh">产品线</span><span data-lang="en">Product Line</span></th>
                  <th><span data-lang="zh">26年1月</span><span data-lang="en">Jan '26</span></th>
                  <th><span data-lang="zh">25年1月</span><span data-lang="en">Jan '25</span></th>
                  <th><span data-lang="zh">同比增长</span><span data-lang="en">YoY Growth</span></th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Yoga</td><td>89,300</td><td>62,100</td><td style="color:var(--green); font-weight:600;">+43.8%</td></tr>
                <tr><td>ThinkPad</td><td>182,400</td><td>168,900</td><td style="color:var(--green);">+8.0%</td></tr>
                <tr><td>IdeaPad</td><td>156,800</td><td>151,200</td><td style="color:var(--green);">+3.7%</td></tr>
                <tr><td><span data-lang="zh">其他</span><span data-lang="en">Others</span></td><td>49,100</td><td>52,400</td><td style="color:var(--red);">-6.3%</td></tr>
              </tbody>
            </table>
          </div>

          <span data-lang="zh"><strong>Yoga</strong> 以 <strong>+43.8% 同比增长</strong>领跑，受 25 年 Q4 Yoga Pro 14s 上市驱动。</span>
          <span data-lang="en"><strong>Yoga</strong> leads with <strong>+43.8% YoY growth</strong>, driven by the Yoga Pro 14s launch in Q4 '25.</span>

          <div class="confidence high">
            &#x2714;
            <span data-lang="zh">高置信度 &mdash; 两个时间段采用相同指标口径</span>
            <span data-lang="en">High Confidence &mdash; Same metric caliber applied to both periods</span>
          </div>
        </div>

      </div>
    </div>

    <!-- Live Agent Link -->
    <div class="live-link">
      <a href="https://data-analysis-agent-warren.fly.dev/" target="_blank" rel="noopener">
        <span data-lang="zh">&#x1f680; 查看实际运行版本</span>
        <span data-lang="en">&#x1f680; Try the Live Agent</span>
        &rarr;
      </a>
    </div>

  </div>
</section>

<!-- FOOTER -->
<footer>
  <p><span data-lang="zh">由</span> <a href="https://github.com/warren-wupeng" target="_blank" rel="noopener">Warren Wu (GitHub: warren-wupeng)</a> <span data-lang="zh">准备</span><span data-lang="en">Prepared by Warren Wu</span></p>
  <p style="font-size: 13px; color: var(--gray-500);">
    <span data-lang="zh">联想数据智能平台方案 &mdash; 2026 年 2 月</span>
    <span data-lang="en">Proposal for Lenovo Data Intelligence Platform &mdash; February 2026</span>
  </p>
  <p class="footer-note">
    <span data-lang="zh">本页为产品概念演示，所有展示数据均为模拟示意。</span>
    <span data-lang="en">This is a product concept demonstration. All data shown is simulated for illustration purposes.</span>
  </p>
</footer>

<script>
  function toggleLang() {
    const body = document.body;
    const btn = document.getElementById('langBtn');
    if (body.classList.contains('lang-zh')) {
      body.classList.replace('lang-zh', 'lang-en');
      btn.textContent = '中文';
      document.documentElement.lang = 'en';
      document.title = 'Lenovo Data Analysis Agent - Product Proposal';
    } else {
      body.classList.replace('lang-en', 'lang-zh');
      btn.textContent = 'EN';
      document.documentElement.lang = 'zh-CN';
      document.title = '联想数据分析 Agent — 产品方案';
    }
  }
</script>

</body>
</html>
